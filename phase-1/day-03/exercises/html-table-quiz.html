<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>HTML Table Quiz</title>
  <style>
    :root {
      --bg: #0b1020;
      --card: #111834;
      --text: #e6eaf2;
      --muted: #9aa3b2;
      --primary: #4f46e5;
      --primary-600: #4338ca;
      --green: #16a34a;
      --red: #dc2626;
      --yellow: #f59e0b;
      --border: #1f2a4a;
    }

    * {
      box-sizing: border-box;
    }

    html,
    body {
      height: 100%;
    }

    body {
      margin: 0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica Neue, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      color: var(--text);
      background: radial-gradient(1200px 800px at 80% -20%, #1c2350 0%, rgba(28, 35, 80, 0) 60%), radial-gradient(1000px 700px at -10% 110%, #1d274b 0%, rgba(29, 39, 75, 0) 60%), var(--bg);
      display: grid;
      place-items: center;
      padding: 24px;
    }

    .quiz-shell {
      width: 100%;
      max-width: 860px;
      display: grid;
      gap: 16px;
    }

    .header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
    }

    .title {
      font-weight: 700;
      letter-spacing: 0.3px;
      display: flex;
      align-items: center;
      gap: 10px;
      font-size: 18px;
    }

    .title .badge {
      font-size: 12px;
      color: var(--yellow);
      background: rgba(245, 158, 11, 0.12);
      border: 1px solid rgba(245, 158, 11, 0.25);
      padding: 2px 8px;
      border-radius: 999px;
    }

    .progress {
      position: relative;
      height: 8px;
      background: rgba(255, 255, 255, 0.06);
      border: 1px solid var(--border);
      border-radius: 999px;
      overflow: hidden;
    }

    .progress>span {
      position: absolute;
      left: 0;
      top: 0;
      height: 100%;
      width: 0%;
      background: linear-gradient(90deg, var(--primary), #22c55e);
      transition: width 360ms ease;
    }

    .card {
      background: linear-gradient(180deg, rgba(255, 255, 255, 0.02), rgba(255, 255, 255, 0.01));
      border: 1px solid var(--border);
      border-radius: 16px;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.35);
      overflow: hidden;
      backdrop-filter: blur(8px);
      transform-origin: 50% 40%;
      animation: cardIn 420ms cubic-bezier(.2, .8, .2, 1);
    }

    @keyframes cardIn {
      from {
        opacity: 0;
        transform: translateY(12px) scale(0.985);
      }

      to {
        opacity: 1;
        transform: translateY(0) scale(1);
      }
    }

    .card-body {
      padding: 24px;
      display: grid;
      gap: 18px;
    }

    .q-head {
      display: grid;
      gap: 8px;
    }

    .q-index {
      font-size: 13px;
      color: var(--muted);
      letter-spacing: .3px;
    }

    .q-text {
      font-size: 20px;
      line-height: 1.45;
    }

    .options {
      display: grid;
      gap: 10px;
    }

    .option {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 14px 14px;
      background: rgba(255, 255, 255, 0.03);
      border: 1px solid var(--border);
      border-radius: 12px;
      cursor: pointer;
      transition: transform 140ms ease, border-color 140ms ease, background 140ms ease;
      user-select: none;
    }

    .option:hover {
      transform: translateY(-1px);
      border-color: rgba(79, 70, 229, 0.55);
      background: rgba(79, 70, 229, 0.08);
    }

    .option.selected {
      border-color: rgba(255, 255, 255, 0.35);
    }

    .option.correct {
      border-color: rgba(34, 197, 94, 0.7);
      background: rgba(34, 197, 94, 0.08);
    }

    .option.incorrect {
      border-color: rgba(220, 38, 38, 0.7);
      background: rgba(220, 38, 38, 0.06);
    }

    .option .letter {
      width: 28px;
      height: 28px;
      border-radius: 999px;
      display: grid;
      place-items: center;
      font-weight: 700;
      font-size: 13px;
      color: var(--text);
      background: rgba(255, 255, 255, 0.06);
      border: 1px solid var(--border);
      flex: 0 0 auto;
    }

    .explain {
      display: none;
      padding: 14px 16px;
      border-radius: 12px;
      border: 1px solid var(--border);
      background: rgba(255, 255, 255, 0.02);
      animation: fadeIn 300ms ease;
    }

    .explain.show {
      display: block;
    }

    .explain.success {
      border-color: rgba(22, 163, 74, 0.6);
      background: rgba(22, 163, 74, 0.08);
    }

    .explain.error {
      border-color: rgba(220, 38, 38, 0.6);
      background: rgba(220, 38, 38, 0.08);
    }

    .explain .label {
      font-weight: 700;
      margin-bottom: 6px;
    }

    .explain.success .label {
      color: var(--green);
    }

    .explain.error .label {
      color: var(--red);
    }

    .explain pre {
      margin: 10px 0 0;
      padding: 12px;
      background: #0d1228;
      color: #e7ecf7;
      border: 1px solid #263156;
      border-radius: 10px;
      overflow: auto;
      max-height: 260px;
    }

    .footer {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      padding: 0 24px 24px;
    }

    .btn {
      appearance: none;
      border: 1px solid var(--border);
      background: var(--primary);
      color: white;
      padding: 10px 16px;
      border-radius: 10px;
      cursor: pointer;
      font-weight: 600;
      transition: transform 120ms ease, background 120ms ease, opacity 120ms ease;
    }

    .btn:hover {
      background: var(--primary-600);
      transform: translateY(-1px);
    }

    .btn:disabled {
      opacity: .5;
      cursor: not-allowed;
      transform: none;
    }

    .btn.ghost {
      background: transparent;
      color: var(--text);
      border-color: var(--border);
    }

    .meta {
      font-size: 13px;
      color: var(--muted);
    }

    .center {
      text-align: center;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(4px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* Summary styles */
    .summary {
      display: grid;
      gap: 14px;
      padding: 24px;
      text-align: center;
    }

    .score {
      font-size: 42px;
      font-weight: 800;
      letter-spacing: .5px;
      background: linear-gradient(90deg, #22c55e, #4f46e5);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 12px;
    }

    .pill {
      border: 1px solid var(--border);
      padding: 10px 12px;
      border-radius: 12px;
      background: rgba(255, 255, 255, 0.02);
    }

    @media (max-width: 720px) {
      .grid {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>

<body>
  <div class="quiz-shell">
    <div class="header">
      <div class="title">
        <span>HTML Table Quiz</span>
        <span class="badge">15 questions</span>
      </div>
      <div class="meta"><span id="meta-progress">0/15</span></div>
    </div>

    <div class="progress"><span id="progress-bar"></span></div>

    <section id="stage" class="card" aria-live="polite"></section>
  </div>

  <script>
    const LETTERS = ["A", "B", "C", "D"];

    const quizData = [
        {
          q: "Mục đích chính của thẻ <table> trong HTML là gì?",
          options: [
            "Trình bày nội dung dạng danh sách",
            "Tạo bố cục (layout) cho trang web",
            "Trình bày dữ liệu dạng bảng (hàng & cột)",
            "Căn chỉnh hình ảnh"
          ],
          correctIndex: 2,
          explanation: "Thẻ <table> được thiết kế để hiển thị dữ liệu có cấu trúc dạng bảng, không phải để tạo bố cục (layout) cho trang web."
        },
        {
          q: "Khi nào nên dùng <table>?",
          options: [
            "Khi muốn chia giao diện thành nhiều cột",
            "Khi hiển thị dữ liệu dạng bảng (ví dụ: dữ liệu thống kê)",
            "Khi cần container cho nội dung",
            "Khi muốn hiển thị icon"
          ],
          correctIndex: 1,
          explanation: "Table chỉ nên dùng để trình bày dữ liệu có quan hệ theo hàng và cột."
        },
        {
          q: "Thành phần nào dùng để tạo một hàng trong bảng?",
          options: ["<td>", "<tr>", "<th>", "<row>"],
          correctIndex: 1,
          explanation: "<tr> (table row) là thẻ dùng để định nghĩa một hàng mới trong bảng."
        },
        {
          q: "Thành phần nào thể hiện ô dữ liệu?",
          options: ["<row>", "<cell>", "<td>", "<th>"],
          correctIndex: 2,
          explanation: "<td> (table data) là thẻ dùng để tạo một ô dữ liệu thông thường."
        },
        {
          q: "Thành phần nào dùng cho tiêu đề cột?",
          options: ["<head>", "<th>", "<tr>", "<title>"],
          correctIndex: 1,
          explanation: "<th> (table header) là thẻ dùng để tạo ô tiêu đề cho bảng."
        },
        {
          q: "Thành phần nào giúp nhóm tiêu đề và mô tả bảng?",
          options: ["<thead>", "<tbody>", "<tfoot>", "<header>"],
          correctIndex: 0,
          explanation: "<thead> (table head) là thẻ dùng để nhóm các hàng chứa tiêu đề cột, hỗ trợ accessibility và in ấn."
        },
        {
          q: "Thuộc tính nào dùng để gộp nhiều cột thành 1?",
          options: ["rowspan", "colspan", "merge", "span"],
          correctIndex: 1,
          explanation: "`colspan` (column span) là thuộc tính dùng trên <td> hoặc <th> để làm ô đó kéo dài qua nhiều cột."
        },
        {
          q: "Thuộc tính nào gộp nhiều hàng?",
          options: ["rowspan", "colspan", "rowmerge", "span"],
          correctIndex: 0,
          explanation: "`rowspan` (row span) là thuộc tính dùng trên <td> hoặc <th> để làm ô đó kéo dài qua nhiều hàng."
        },
        {
          q: "Vì sao không nên dùng <table> để tạo layout website?",
          options: [
            "Vì làm web chậm hơn",
            "Vì khó responsive và không đúng chuẩn semantic",
            "Vì không hỗ trợ JavaScript",
            "Vì thẻ table không còn được HTML hỗ trợ"
          ],
          correctIndex: 1,
          explanation: "Dùng table cho layout vi phạm nguyên tắc tách biệt nội dung và trình bày, làm trang web khó điều chỉnh trên các thiết bị khác nhau (responsive) và gây khó khăn cho các công nghệ hỗ trợ (semantic)."
        },
        {
          q: "Thẻ nào mô tả chú thích của bảng?",
          options: ["<desc>", "<label>", "<caption>", "<summary>"],
          correctIndex: 2,
          explanation: "<caption> là thẻ được dùng để cung cấp một chú thích hoặc tiêu đề cho toàn bộ bảng, nằm ngay sau thẻ <table> mở."
        },
        {
          q: "Tại sao nên dùng <thead>, <tbody>, <tfoot>?",
          options: [
            "Làm bảng tải nhanh hơn",
            "Hỗ trợ SEO và screen reader hiểu cấu trúc",
            "Bắt buộc theo chuẩn HTML",
            "Tạo hiệu ứng CSS tự động"
          ],
          correctIndex: 1,
          explanation: "Các thẻ này giúp cấu trúc bảng rõ ràng, hỗ trợ các công cụ tìm kiếm và trình đọc màn hình (screen reader) hiểu được các phần khác nhau của dữ liệu bảng."
        },
        {
          q: "Hạn chế lớn khi dùng table để trình bày dữ liệu lớn?",
          options: [
            "Không hiển thị được màu",
            "Không cho phép CSS",
            "Scroll khó khăn và kém responsive",
            "Không thể chứa hình ảnh"
          ],
          correctIndex: 2,
          explanation: "Khi bảng quá lớn, nó dễ bị tràn màn hình (overflow), gây khó khăn cho việc cuộn ngang và gần như không thể tự động điều chỉnh kích thước trên mobile."
        },
        {
          q: "<table> nào dưới đây là hợp lệ và đúng cấu trúc?",
          options: [
            "<table><tr><th></th><td></td></table>",
            "<table><thead></thead><foot></foot></table>",
            "<table><tr><td></td></tr></table>",
            "<table><td></td><tr></tr></table>"
          ],
          correctIndex: 2,
          explanation: "Cấu trúc cơ bản nhất và hợp lệ của bảng là: <table> chứa <tr> (hàng) và <tr> chứa <td> (ô dữ liệu)."
        },
        {
          q: "Dùng thuộc tính nào để hiển thị border trong bảng?",
          options: ["outline", "border", "frame", "table-border"],
          correctIndex: 1,
          explanation: "Tuy thuộc tính `border` (ví dụ: `<table border=\"1\">`) có thể dùng, nhưng cách hiện đại và chuẩn mực là sử dụng **CSS** để định kiểu đường viền:",
          example: `table, th, td {
  border: 1px solid #000;
}`
        },
        {
          q: "Tại sao không nên style table bằng thuộc tính HTML như border=\"1\"?",
          options: [
            "Vì thuộc tính này bị xóa khỏi HTML",
            "Vì không hỗ trợ trên trình duyệt hiện đại",
            "Vì không tách biệt nội dung và trình bày (không chuẩn HTML5)",
            "Vì CSS không nhận dạng border"
          ],
          correctIndex: 2,
          explanation: "Việc sử dụng các thuộc tính HTML để định dạng (như `border=\"1\"`, `align`, `bgcolor`) là không chuẩn theo HTML5, vì nó trộn lẫn nội dung và trình bày. Việc định dạng nên được thực hiện hoàn toàn bằng CSS."
        }
      ];
    
    const stage = document.getElementById("stage");
    const progressBar = document.getElementById("progress-bar");
    const metaProgress = document.getElementById("meta-progress");

    let order = [];
    let current = 0;
    let score = 0;
    let answered = false;

    function shuffle(arr) {
      const a = [...arr];
      for (let i = a.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [a[i], a[j]] = [a[j], a[i]];
      }
      return a;
    }

    function escapeHtml(str) {
      return str.replaceAll("&", "&amp;")
        .replaceAll("<", "&lt;")
        .replaceAll(">", "&gt;");
    }

    function setProgress() {
      metaProgress.textContent = `${Math.min(current + 1, order.length)}/${order.length}`;
      const pct = (current) / order.length * 100;
      progressBar.style.width = `${pct}%`;
    }

    function renderQuestion() {
      const q = quizData[order[current]];

      const options = q.options.map((text, i) => {
        return `<div class="option" data-index="${i}" role="button" tabindex="0" aria-pressed="false">
  <div class="letter">${LETTERS[i]}</div>
  <div>${escapeHtml(text)}</div>
</div>`;
      }).join("");

      stage.innerHTML = `
        <div class="card-body">
          <div class="q-head">
            <div class="q-index">Câu ${current + 1}/${order.length}</div>
            <div class="q-text">${escapeHtml(q.q)}</div>
          </div>
          <div class="options" id="options">${options}</div>
          <div id="explain" class="explain" aria-live="polite"></div>
        </div>
        <div class="footer">
          <button id="resetBtn" class="btn ghost">Reset</button>
          <div style="display:flex; gap:10px; align-items:center">
            <span class="meta" id="hint">${answered ? "Chọn đáp án để xem giải thích" : ""}</span>
            <button id="nextBtn" class="btn" disabled>Tiếp theo</button>
          </div>
        </div>
      `;

      answered = false;
      bindHandlers();
      setProgress();
    }

    function bindHandlers() {
      const q = quizData[order[current]];
      const list = stage.querySelectorAll(".option");
      const explainBox = stage.querySelector("#explain");
      const nextBtn = stage.querySelector("#nextBtn");
      const resetBtn = stage.querySelector("#resetBtn");

      list.forEach(el => {
        const idx = Number(el.getAttribute("data-index"));
        const select = () => {
          if (answered) return;
          answered = true;

          list.forEach(n => n.classList.remove("selected"));
          el.classList.add("selected");

          const isCorrect = idx === q.correctIndex;
          if (isCorrect) {
            el.classList.add("correct");
            score += 1;
          } else {
            el.classList.add("incorrect");
            const correctEl = Array.from(list)[q.correctIndex];
            correctEl.classList.add("correct");
          }

          const label = isCorrect ? "Chính xác!" : "Chưa chính xác";
          const cls = isCorrect ? "success" : "error";
          const exampleBlock = q.example ? `<pre><code>${escapeHtml(q.example)}</code></pre>` : "";

          explainBox.className = `explain show ${cls}`;
          explainBox.innerHTML = `<div class="label">${label}</div><div>${escapeHtml(q.explanation)}</div>${exampleBlock}`;

          nextBtn.disabled = false;
        };

        el.addEventListener("click", select);
        el.addEventListener("keydown", (e) => {
          if (e.key === "Enter" || e.key === " ") {
            e.preventDefault();
            select();
          }
        });
      });

      nextBtn.addEventListener("click", nextStep);
      resetBtn.addEventListener("click", resetQuiz);
    }

    function nextStep() {
      if (current < order.length - 1) {
        current += 1;
        renderQuestion();
      } else {
        showSummary();
      }
    }

    function showSummary() {
      progressBar.style.width = "100%";
      metaProgress.textContent = `${order.length}/${order.length}`;

      stage.innerHTML = `
        <div class="summary">
          <div class="score">${score}/${order.length}</div>
          <div class="grid">
            <div class="pill">Đúng: <strong style="color: var(--green)">${score}</strong></div>
            <div class="pill">Sai: <strong style="color: var(--red)">${order.length - score}</strong></div>
          </div>
          <div class="meta">Hoàn thành quiz về HTML Tables. Bạn có thể làm lại để luyện tập thêm.</div>
          <div style="display:flex; justify-content:center; gap:12px; margin-top: 4px;">
            <button class="btn" id="again">Làm lại</button>
          </div>
        </div>
      `;

      const again = document.getElementById("again");
      again.addEventListener("click", resetQuiz);
    }

    function resetQuiz() {
      order = shuffle(quizData.map((_, i) => i));
      current = 0;
      score = 0;
      answered = false;
      renderQuestion();
    }

    // init
    resetQuiz();
  </script>
</body>

</html>